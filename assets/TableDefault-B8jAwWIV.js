import{h as J,j as P,t as Q,K as l,L as I,G as U,x as X,M as Y,y as Z,p as K,l as j,o as c,c as i,b as v,a as f,w as r,f as s,F as N,C as B,v as $,H as L,k as A,d as O,z as q,q as ee,N as te,O as ae,E as le}from"./index-Bps_l_in.js";const oe=a=>{const e=J([]);return P(()=>{e.value=[...Q(a)].map(t=>({field:t==null?void 0:t.name,label:t==null?void 0:t.label,convert:{to:(t==null?void 0:t.convertTo)||"text"},className:(t==null?void 0:t.cellClass)||"",type:(t==null?void 0:t.type)||"",name:(t==null?void 0:t.name)||""}))}),{columns:e}},H=(a,{slots:e,attrs:t})=>l("table",{class:["table table-hover",{"table-hover":t.tableHover}]},(e==null?void 0:e.default)&&e.default());H.props={};H.slots=["default"];const D=(a,{slots:e,attrs:t})=>l("thead",{},(e==null?void 0:e.default)&&e.default());D.props={};D.slots=["default"];const F=(a,{slots:e,attrs:t})=>l("tbody",{},(e==null?void 0:e.default)&&e.default());F.props={};F.slots=["default"];const T=(a,{slots:e,attrs:t})=>l("tr",{},(e==null?void 0:e.default)&&e.default());T.props=["modelValue"];T.slots=["default"];const m=(a,{slots:e,attrs:t})=>l(a.tag==="th"?"th":"td",{},(e==null?void 0:e.default)&&e.default());m.props={tag:{type:String,default:"td"}};m.slots=["default"];const z=a=>{const{modelValue:e}=a;return l("span",e)};z.slots=["default"];z.props=["modelValue"];const M=a=>{const{modelValue:e}=a;return l("span",[l("span",{class:"pe-2 opacity-50"},l(I,{icon:"fa-solid fa-calendar"})),l("span",{class:""},U(e))])};M.slots=["default"];M.props={modelValue:{type:[Number,null],default:null}};const C=a=>{const{modelValue:e}=a;return l("span",{class:e?"text-success":"text-danger"},e?l(I,{icon:"fa-solid fa-check"}):l(I,{icon:"fa-solid fa-xmark"}))};C.components=["FontAwesomeIcon"];C.slots=["default"];C.props={modelValue:{type:Boolean,default:!1}};const R=a=>{const{modelValue:e}=a,t=e.length(25);return l("span",t)};R.slots=["default"];R.props=["modelValue"];const E=a=>{const{modelValue:e}=a;return l("span",e)};E.slots=["default"];E.props=["modelValue"];const p={date:a=>l(M,{modelValue:a}),boolean:a=>l(C,{modelValue:a}),truncate:a=>l(R,{modelValue:a}),file:a=>l(E,{modelValue:a}),default:a=>l(z,{modelValue:a})},w=(a,{slots:e})=>{var V,h;const{modelValue:t,to:b}=a;return l("span",{"data-type":b},((V=p==null?void 0:p[b])==null?void 0:V.call(p,t))||((h=p.default)==null?void 0:h.call(p,t)))};w.slots=["default"];w.props={modelValue:{type:[String,Number,Boolean,Array,Object],default:""},to:{type:String,default:"text"}};const G=a=>(te("data-v-b34c261c"),a=a(),ae(),a),ne={class:"table-container"},se=G(()=>v("span",{class:"d-inline-block",style:{width:"30px"}},"#",-1)),de={key:0},re={key:1},ue=G(()=>v("td",{colspan:"999",class:"text-center"},[v("div",{class:"alert alert-warning m-0 p-5 border-0"},[v("span",{class:"opacity-50"},"Không có dữ liệu để hiển thị")])],-1)),ce=[ue],pe={__name:"TableDefault",props:{modelValue:{type:Array,default:()=>[]},colsHidden:{type:Array,default:()=>[]},settings:{type:Array,default:()=>[]},colControl:{type:String,default:"name"},heightAuto:{type:Boolean,default:!1}},setup(a){const e=Y(),t=a,{columns:b}=oe(Z(t.settings)),V=K(()=>b.value.filter(o=>o.field!=="_id")),h=K(()=>V.value.filter(o=>!t.colsHidden.includes(o.field))),k=j({});for(const o of t.settings)if(o.type==="select"){k[o.name]={};const _=o.options;for(const{text:n,value:d}of _)k[o.name][d]=n}const W=le({slots:["default"],props:["col","field","doc","to","fieldType","fieldName"],render(){var x;const{col:o,field:_,to:n,doc:d,fieldType:g=null,fieldName:S=null}=this;let u=d==null?void 0:d[_];if(g==="select"){const y=k[S];u=y&&y[u]?y[u]:u}return _===o?l("div",{class:"d-flex align-items-center"},[l(w,{"model-value":u,to:n}),l("div",{class:"ms-auto"},((x=this.$slots)==null?void 0:x.default)&&this.$slots.default())]):l(w,{"model-value":u,to:n})}});return(o,_)=>(c(),i("div",ne,[v("div",{class:L(["table-responsive",{"height-auto":t.heightAuto}])},[f(s(H),{class:"table-bordered"},{default:r(()=>[f(s(D),null,{default:r(()=>[f(s(T),null,{default:r(()=>[f(s(m),{tag:"th",class:"text-nowrap text-center",style:{width:"80px"}},{default:r(()=>[se]),_:1}),(c(!0),i(N,null,B(h.value,({label:n,field:d})=>(c(),A(s(m),{key:`thead_cell_${d}`,tag:"th",class:"text-nowrap text-capitalize"},{default:r(()=>[O(q(n),1)]),_:2},1024))),128)),$(o.$slots,"theadMore",{},void 0,!0)]),_:3})]),_:3}),f(s(F),null,{default:r(()=>[t.modelValue.length?(c(!0),i(N,{key:0},B(t.modelValue,(n,d)=>(c(),A(s(T),{key:`doc_${n._id}`,"model-value":n},{default:r(()=>[f(s(m),{class:"text-nowrap text-center",style:{width:"80px"}},{default:r(()=>[O(q(d+1),1)]),_:2},1024),(c(!0),i(N,null,B(h.value,({field:g,convert:S,className:u="",type:x,name:y})=>(c(),A(s(m),{key:`tbody_cell_${g}`,class:L(["text-nowrap text-capitalize",u||""])},{default:r(()=>[f(s(W),{col:t.colControl,field:g,to:S.to,doc:n,"field-type":x,"field-name":y},{default:r(()=>[s(e).control?(c(),i("div",de,[$(o.$slots,"control",{doc:n},void 0,!0)])):ee("",!0)]),_:2},1032,["col","field","to","doc","field-type","field-name"])]),_:2},1032,["class"]))),128)),$(o.$slots,"tbodyMore",{doc:{index:d,...n}},void 0,!0)]),_:2},1032,["model-value"]))),128)):(c(),i("tr",re,ce))]),_:3})]),_:3})],2)]))}},ie=X(pe,[["__scopeId","data-v-b34c261c"]]);export{ie as T};
