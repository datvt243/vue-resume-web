import{g as k,h as g,p as I,m as w,t as _,N as M,J as S,j as x,O as N,r as V,o as h,c as y,b as l,D as $,a as z,f as B,B as C,q as F,C as D}from"./index-DW3TMGm5.js";import{u as H}from"./useDocument-B3yRZbb0.js";const K=c=>{const a=k(),s=g(c.field),u=c.collection||null,t=g([]),o=I(()=>a.getId),{loading:p}=H();w(async()=>{let e=a.getCandidateByField(_(s));e.length?t.value=e:await r()});async function r(){let e=[];const n=u||(s.value.endsWith("s")?s.value.slice(0,-1):s.value);await M({method:"get",url:`${n}/`},{loading:p,toast:null},i=>{const{data:d=[]}=i;e=d,a.setCandidateByField({[`${s.value}`]:d})}),t.value=e}function f(e){t.value=t.value.filter(n=>n._id!==e),a.setCandidateByField({[s.value]:_(t)})}function b(e){const{_id:n=null}=e;if(!n){t.value.push(e);return}const i=t.value.findIndex(d=>d._id===n);i>-1?t.value[i]=e:t.value.push(e),a.setCandidateByField({[s.value]:_(t)})}function v(e){const{field:n,values:i}=e,d=n;d===""&&a.setCandidateByField({[d]:i})}function m(e){a.setGeneralInformation(e)}return{canidateId:o,[_(s)]:t,removeRecordById:f,addRecordToList:b,updateField:v,updateGeneralInformationByField:m,getData:r}},q={class:"modal-content"},A={class:"modal-header"},G={class:"modal-title h5 m-0"},L={class:"ms-auto"},R={class:"btn btn-sm btn-outline-danger","data-bs-dismiss":"modal","aria-label":"Close"},T={class:"modal-body"},j={key:1},E={key:0,class:"modal-footer"},J=l("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Đóng",-1),P={__name:"Modal",props:{title:{type:String,default:"Modal Title"},size:{type:String,default:"modal-lg"},isHiddenFooter:{type:Boolean,default:!1}},setup(c,{expose:a}){const s=S(),u=c,t=g(null);let o=null;x(()=>{o=new N(t.value,{})});function p(){o==null||o.show()}function r(){o==null||o.hide()}return a({show:p,hide:r}),(f,b)=>{var m,e;const v=V("FontAwesomeIcon");return h(),y("div",{class:"modal draggable",tabindex:"-1",ref_key:"refModal",ref:t,"data-backdrop":"static"},[l("div",{class:D(["modal-dialog modal-dialog-scrollable",u.size])},[l("div",q,[l("div",A,[l("p",G,$(u.title),1),l("span",L,[l("span",R,[z(v,{icon:"fa-solid fa-xmark"})])])]),l("div",T,[(m=B(s))!=null&&m.default?C(f.$slots,"default",{key:0}):(h(),y("p",j,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam, facilis!"))]),c.isHiddenFooter?F("",!0):(h(),y("div",E,[J,(e=B(s))!=null&&e.footer?C(f.$slots,"footer",{key:0}):F("",!0)]))])],2)],512)}}};export{P as _,K as u};
