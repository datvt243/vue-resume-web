import{T as D,a as $,b as y,c as M,d as R,C as S}from"./TableDefault.vue_vue_type_style_index_1_scoped_121b7854_lang-DQM2dZnr.js";import{h as E,j as F,t as K,E as L,G as q,H as G,p as V,l as J,o as d,c as i,b as p,a as r,w as s,e as a,F as x,z as C,A as T,I as B,k as w,d as N,B as A,q as W,J as O,K as P,v as Q,L as v}from"./index-BVJ7n5iW.js";const U=c=>{const _=E([]);return F(()=>{_.value=[...K(c)].map(e=>({field:e==null?void 0:e.name,label:e==null?void 0:e.label,convert:{to:(e==null?void 0:e.convertTo)||"text"},className:(e==null?void 0:e.cellClass)||"",type:(e==null?void 0:e.type)||"",name:(e==null?void 0:e.name)||""}))}),{columns:_}},I=c=>(O("data-v-121b7854"),c=c(),P(),c),X={class:"table-container"},Y=I(()=>p("span",{class:"d-inline-block",style:{width:"30px"}},"#",-1)),Z={key:0},ee={key:1},te=I(()=>p("td",{colspan:"999",class:"text-center"},[p("div",{class:"alert alert-warning m-0 p-5 border-0"},[p("span",{class:"opacity-50"},"Không có dữ liệu để hiển thị")])],-1)),le=[te],ae={__name:"TableDefault",props:{modelValue:{type:Array,default:()=>[]},colsHidden:{type:Array,default:()=>[]},settings:{type:Array,default:()=>[]},colControl:{type:String,default:"name"},heightAuto:{type:Boolean,default:!1}},setup(c){const _=q(),e=c,{columns:H}=U(G(e.settings)),z=V(()=>H.value.filter(t=>t.field!=="_id")),k=V(()=>z.value.filter(t=>!e.colsHidden.includes(t.field))),b=J({});for(const t of e.settings)if(t.type==="select"){b[t.name]={};const u=t.options;for(const{text:l,value:o}of u)b[t.name][o]=l}const j=Q({slots:["default"],props:["col","field","doc","to","fieldType","fieldName"],render(){var h;const{col:t,field:u,to:l,doc:o,fieldType:m=null,fieldName:g=null}=this;let n=o==null?void 0:o[u];if(m==="select"){const f=b[g];n=f&&f[n]?f[n]:n}return u===t?v("div",{class:"d-flex align-items-center"},[v(S,{"model-value":n,to:l}),v("div",{class:"ms-auto"},((h=this.$slots)==null?void 0:h.default)&&this.$slots.default())]):v(S,{"model-value":n,to:l})}});return(t,u)=>(d(),i("div",X,[p("div",{class:B(["table-responsive",{"height-auto":e.heightAuto}])},[r(a(R),{class:"table-bordered"},{default:s(()=>[r(a(D),null,{default:s(()=>[r(a($),null,{default:s(()=>[r(a(y),{tag:"th",class:"text-nowrap text-center",style:{width:"80px"}},{default:s(()=>[Y]),_:1}),(d(!0),i(x,null,C(k.value,({label:l,field:o})=>(d(),w(a(y),{key:`thead_cell_${o}`,tag:"th",class:"text-nowrap text-capitalize"},{default:s(()=>[N(A(l),1)]),_:2},1024))),128)),T(t.$slots,"theadMore",{},void 0,!0)]),_:3})]),_:3}),r(a(M),null,{default:s(()=>[e.modelValue.length?(d(!0),i(x,{key:0},C(e.modelValue,(l,o)=>(d(),w(a($),{key:`doc_${l._id}`,"model-value":l},{default:s(()=>[r(a(y),{class:"text-nowrap text-center",style:{width:"80px"}},{default:s(()=>[N(A(o+1),1)]),_:2},1024),(d(!0),i(x,null,C(k.value,({field:m,convert:g,className:n="",type:h,name:f})=>(d(),w(a(y),{key:`tbody_cell_${m}`,class:B(["text-nowrap text-capitalize",n||""])},{default:s(()=>[r(a(j),{col:e.colControl,field:m,to:g.to,doc:l,"field-type":h,"field-name":f},{default:s(()=>[a(_).control?(d(),i("div",Z,[T(t.$slots,"control",{doc:l},void 0,!0)])):W("",!0)]),_:2},1032,["col","field","to","doc","field-type","field-name"])]),_:2},1032,["class"]))),128)),T(t.$slots,"tbodyMore",{doc:{index:o,...l}},void 0,!0)]),_:2},1032,["model-value"]))),128)):(d(),i("tr",ee,le))]),_:3})]),_:3})],2)]))}},ne=L(ae,[["__scopeId","data-v-121b7854"]]);export{ne as T};
