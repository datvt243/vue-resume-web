import{g as I,h as g,p as k,m as M,t as _,P as w,M as S,j as x,Q as z,r as N,o as h,c as y,b as l,z as V,a as $,f as F,v as B,q as C,I as H}from"./index-CpXno4mj.js";import{u as q}from"./useDocument-CkwC1vFX.js";const J=c=>{const a=I(),s=g(c.field),u=c.collection||null,t=g([]),o=k(()=>a.getId),{loading:v}=q();M(async()=>{let e=a.getCandidateByField(_(s));e.length?t.value=e:await r()});async function r(){let e=[];const n=u||(s.value.endsWith("s")?s.value.slice(0,-1):s.value);await w({method:"get",url:`${n}/`},{loading:v,toast:null},i=>{const{data:d=[]}=i;e=d,a.setCandidateByField({[`${s.value}`]:d})}),t.value=e}function f(e){t.value=t.value.filter(n=>n._id!==e),a.setCandidateByField({[s.value]:_(t)})}function b(e){const{_id:n=null}=e;if(!n){t.value.push(e);return}const i=t.value.findIndex(d=>d._id===n);i>-1?t.value[i]=e:t.value.push(e),a.setCandidateByField({[s.value]:_(t)})}function p(e){const{field:n,values:i}=e,d=n;d===""&&a.setCandidateByField({[d]:i})}function m(e){a.setGeneralInformation(e)}return{candidateId:o,[_(s)]:t,removeRecordById:f,addRecordToList:b,updateField:p,updateGeneralInformationByField:m,getData:r}},A={class:"modal-content"},D={class:"modal-header"},G={class:"modal-title h5 m-0"},L={class:"ms-auto"},R={class:"btn btn-sm btn-outline-danger","data-bs-dismiss":"modal","aria-label":"Close"},T={class:"modal-body"},j={key:1},E={key:0,class:"modal-footer"},P=l("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Đóng",-1),K={__name:"Modal",props:{title:{type:String,default:"Modal Title"},size:{type:String,default:"modal-lg"},isHiddenFooter:{type:Boolean,default:!1}},setup(c,{expose:a}){const s=S(),u=c,t=g(null);let o=null;x(()=>{o=new z(t.value,{})});function v(){o==null||o.show()}function r(){o==null||o.hide()}return a({show:v,hide:r}),(f,b)=>{var m,e;const p=N("FontAwesomeIcon");return h(),y("div",{class:"modal draggable",tabindex:"-1",ref_key:"refModal",ref:t,"data-backdrop":"static"},[l("div",{class:H(["modal-dialog modal-dialog-scrollable",u.size])},[l("div",A,[l("div",D,[l("p",G,V(u.title),1),l("span",L,[l("span",R,[$(p,{icon:"fa-solid fa-xmark"})])])]),l("div",T,[(m=F(s))!=null&&m.default?B(f.$slots,"default",{key:0}):(h(),y("p",j,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam, facilis!"))]),c.isHiddenFooter?C("",!0):(h(),y("div",E,[P,(e=F(s))!=null&&e.footer?B(f.$slots,"footer",{key:0}):C("",!0)]))])],2)],512)}}};export{K as _,J as u};
